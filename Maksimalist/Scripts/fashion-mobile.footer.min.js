(function(){var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};while(d--)a=c[d],e[a]||(e[a]=b)})(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),function(a){function u(){if(!c)return;var i=Date.now(),j;if(a.addToHomeConfig)for(j in a.addToHomeConfig)s[j]=a.addToHomeConfig[j];s.autostart||(s.hookOnLoad=!1),d=/ipad/gi.test(b.platform),e=a.devicePixelRatio&&a.devicePixelRatio>1,f=/Safari/i.test(b.appVersion)&&!/CriOS/i.test(b.appVersion),g=b.standalone,h=b.appVersion.match(/OS (\d+_\d+)/i),h=h&&h[1]?+h[1].replace("_","."):0,k=+a.localStorage.getItem("addToHome"),m=a.sessionStorage.getItem("addToHomeSession"),n=s.returningVisitor?k&&k+24192e5>i:!0,k||(k=i),l=n&&k<=i,s.hookOnLoad?a.addEventListener("load",v,!1):!s.hookOnLoad&&s.autostart&&v()}function v(){a.removeEventListener("load",v,!1),n?s.expire&&l&&a.localStorage.setItem("addToHome",Date.now()+s.expire*6e4):a.localStorage.setItem("addToHome",Date.now());if(!p&&(!f||!l||m||g||!n))return;var c="",i=b.platform.split(" ")[0];o=document.createElement("div"),o.id="addToHomeScreen",o.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(h<5?"absolute":"fixed"),s.message=t.en_us,s.touchIcon&&(c=e?document.querySelector('head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="60x60"],head link[rel^=apple-touch-icon]'),c&&(c='<span style="background-image:url('+c.href+')" class="addToHomeTouchIcon"></span>')),o.className=(h>=7?"addToHomeIOS7 ":"")+(d?"addToHomeIpad":"addToHomeIphone")+(c?" addToHomeWide":""),o.innerHTML=c+s.message.replace("%device",i).replace("%icon",h>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(s.arrow?'<span class="addToHomeArrow"'+(h>=7&&d&&c?' style="margin-left:-32px"':"")+"></span>":"")+(s.closeButton?'<span class="addToHomeClose">×</span>':""),document.body.appendChild(o),s.closeButton&&o.addEventListener("click",z,!1),!d&&h>=6&&window.addEventListener("orientationchange",D,!1),setTimeout(w,s.startDelay)}function w(){var b,c=208;if(d){h<5?(j=a.scrollY,i=a.scrollX):h<6?c=160:h>=7&&(c=143),o.style.top=j+s.bottomOffset+"px",o.style.left=Math.max(i+c-Math.round(o.offsetWidth/2),9)+"px";switch(s.animationIn){case"drop":b="0.6s",o.style.webkitTransform="translate3d(0,"+ -(a.scrollY+s.bottomOffset+o.offsetHeight)+"px,0)";break;case"bubble":b="0.6s",o.style.opacity="0",o.style.webkitTransform="translate3d(0,"+(j+50)+"px,0)";break;default:b="1s",o.style.opacity="0"}}else{j=a.innerHeight+a.scrollY,h<5?(i=Math.round((a.innerWidth-o.offsetWidth)/2)+a.scrollX,o.style.left=i+"px",o.style.top=j-o.offsetHeight-s.bottomOffset+"px"):(o.style.left="50%",o.style.marginLeft=-Math.round(o.offsetWidth/2)-(a.orientation%180&&h>=6&&h<7?40:0)+"px",o.style.bottom=s.bottomOffset+"px");switch(s.animationIn){case"drop":b="1s",o.style.webkitTransform="translate3d(0,"+ -(j+s.bottomOffset)+"px,0)";break;case"bubble":b="0.6s",o.style.webkitTransform="translate3d(0,"+(o.offsetHeight+s.bottomOffset+50)+"px,0)";break;default:b="1s",o.style.opacity="0"}}o.offsetHeight,o.style.webkitTransitionDuration=b,o.style.opacity="1",o.style.webkitTransform="translate3d(0,0,0)",o.addEventListener("webkitTransitionEnd",A,!1),r=setTimeout(y,s.lifespan)}function x(a){if(!c||o)return;p=a,v()}function y(){clearInterval(q),clearTimeout(r),r=null;if(!o)return;var b=0,c=0,e="1",f="0";s.closeButton&&o.removeEventListener("click",z,!1),!d&&h>=6&&window.removeEventListener("orientationchange",D,!1),h<5&&(b=d?a.scrollY-j:a.scrollY+a.innerHeight-j,c=d?a.scrollX-i:a.scrollX+Math.round((a.innerWidth-o.offsetWidth)/2)-i),o.style.webkitTransitionProperty="-webkit-transform,opacity";switch(s.animationOut){case"drop":d?(f="0.4s",e="0",b+=50):(f="0.6s",b+=o.offsetHeight+s.bottomOffset+50);break;case"bubble":d?(f="0.8s",b-=o.offsetHeight+s.bottomOffset+50):(f="0.4s",e="0",b-=50);break;default:f="0.8s",e="0"}o.addEventListener("webkitTransitionEnd",A,!1),o.style.opacity=e,o.style.webkitTransitionDuration=f,o.style.webkitTransform="translate3d("+c+"px,"+b+"px,0)"}function z(){a.sessionStorage.setItem("addToHomeSession","1"),m=!0,y()}function A(){o.removeEventListener("webkitTransitionEnd",A,!1),o.style.webkitTransitionProperty="-webkit-transform",o.style.webkitTransitionDuration="0.2s";if(!r){o.parentNode.removeChild(o),o=null;return}h<5&&r&&(q=setInterval(B,s.iterations))}function B(){var b=new WebKitCSSMatrix(a.getComputedStyle(o,null).webkitTransform),c=d?a.scrollY-j:a.scrollY+a.innerHeight-j,e=d?a.scrollX-i:a.scrollX+Math.round((a.innerWidth-o.offsetWidth)/2)-i;if(c==b.m42&&e==b.m41)return;o.style.webkitTransform="translate3d("+e+"px,"+c+"px,0)"}function C(){a.localStorage.removeItem("addToHome"),a.sessionStorage.removeItem("addToHomeSession")}function D(){o.style.marginLeft=-Math.round(o.offsetWidth/2)-(a.orientation%180&&h>=6&&h<7?40:0)+"px"}"use strict";var b=a.navigator,c="platform"in b&&/iphone|ipod|ipad/gi.test(b.platform),d,e,f,g,h,i=0,j=0,k=0,l,m,n,o,p,q,r,s={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:15e3,bottomOffset:14,expire:43200,message:"",touchIcon:!0,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},t={en_us:"Add to your %device's home screen: tap %icon and then <strong>Add to Home Screen</strong>."};return u(),{show:x,close:y,reset:C}}(window),function(a){function e(e,f){this.element=e,this.options=a.extend({},c,f),a(this.element).data("max-height",this.options.maxHeight),delete this.options.maxHeight;if(Math.abs(a(e).outerHeight(!0)-a(this.element).data("max-height"))>50){if(this.options.embedCSS&&!d){var g=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";(function(a,b){var c=a.createElement("style");c.type="text/css",c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c)})(document,g),d=!0}this._defaults=c,this._name=b,this.init()}}var b="readmore",c={speed:100,maxHeight:200,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",beforeToggle:function(){},afterToggle:function(){}},d=!1;e.prototype={init:function(){var b=this;a(this.element).each(function(){var c=a(this),d=c.css("max-height").replace(/[^-\d\.]/g,"")>c.data("max-height")?c.css("max-height").replace(/[^-\d\.]/g,""):c.data("max-height");c.addClass("readmore-js-section"),c.css("max-height")!="none"&&c.css("max-height","none"),c.data("boxHeight",c.outerHeight(!0));if(c.outerHeight(!0)<d)return!0;c.after(a(b.options.moreLink).on("click",function(a){b.toggleSlider(this,c,a)}).addClass("readmore-js-toggle")),c.data("sliderHeight",d),c.css({height:d})})},toggleSlider:function(b,c,d){d.preventDefault();var e=this,f=newLink="",g=!1,h=a(c).data("sliderHeight");a(c).height()==h?(f=a(c).data().boxHeight+"px",newLink="lessLink",g=!0):(f=h,newLink="moreLink"),e.options.beforeToggle(b,c,g),a(c).animate({height:f},{duration:e.options.speed}),a(b).replaceWith(a(e.options[newLink]).on("click",function(a){e.toggleSlider(this,c,a)}).addClass("readmore-js-toggle")),e.options.afterToggle(b,c,g)}},a.fn[b]=function(c){var d=arguments;if(c===undefined||typeof c=="object")return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new e(this,c))});if(typeof c=="string"&&c[0]!=="_"&&c!=="init")return this.each(function(){var f=a.data(this,"plugin_"+b);f instanceof e&&typeof f[c]=="function"&&f[c].apply(f,Array.prototype.slice.call(d,1))})}}(jQuery),function(a){"use strict",a.fn.slydeshow=function(b,c){var d=this,e,f=700,g="easeOutExpo",h="fade",i=a(this).find("ul:first").width(),j=0,k=a(this).find("ul:first > li").size()-1,l=[],m,n,o=0,p=0,q=60,r,s,t,u={x:0,y:0},v,w,x=!0,y=!0,z=!0,A,B;d.fn={init:function(b){return this.each(function(){e=a(this),e.hasClass("slydeshow")||e.addClass("slydeshow"),b.duration&&(f=b.duration),b.easing&&(g=b.easing),b.transition&&(h=b.transition),b.arrowContainer?w=b.arrowContainer:w=e,b.touchable&&(y=!0),b.moveable&&(z=!0),b.touchTarget?A=b.touchTarget:A=e.find("ul:first"),b.clickCallback&&typeof b.clickCallback=="function"&&(d.fn.clickCallback=b.clickCallback),b.changeCallback&&typeof b.changeCallback=="function"&&(d.fn.changeCallback=b.changeCallback),a(this).find("ul:first > li").each(function(){m?h==="slide"?a(this).css({display:"block",position:"absolute",width:i,left:i,top:0}):a(this).css({display:"none",position:"absolute",width:i,left:0,top:0}):(a(this).css({display:"block",position:"absolute",width:i,left:0,top:0}),m=a(this)),l.push(a(this))}),d.fn.createPills(),d.fn.enable()})},clickCallback:function(a){},changeCallback:function(a){},enable:function(b){b&&b.preventDefault(),w.find(".arrow-next").on("click",d.fn.next),w.find(".arrow-prev").on("click",d.fn.prev),d.fn.makeTouchable(A),v.children().each(function(){a(this).on("click",d.fn.pillClickHandler)})},disable:function(b){b&&b.preventDefault(),w.find(".arrow-next").off("click",d.fn.next),w.find(".arrow-prev").off("click",d.fn.prev),d.fn.makeUntouchable(A),v.children().each(function(){a(this).off("click",d.fn.pillClickHandler)})},setTouchtarget:function(a){d.fn.makeUntouchable(A),A=a,d.fn.makeTouchable(A)},makeTouchable:function(b){y&&(a(b).on("touchstart",d.fn.touchstartHandler),a(b).on("touchend",d.fn.touchendHandler))},makeUntouchable:function(b){a(b).off("touchstart",d.fn.touchstartHandler),a(b).off("touchmove",d.fn.touchmoveHandler),a(b).off("touchend",d.fn.touchendHandler)},prepareSlide:function(){a(this).find("ul:first > li").css({zIndex:1}),m.css({zIndex:2})},next:function(a){a&&a.preventDefault(),x=!0,B&&n===B&&d.fn.removeInterstitial();if(!B||B===m)j+=1,j>k&&(j=0);m.each(function(){d.fn.slideAnimateOut(this,d.fn.moveNext)}),a&&d.fn.clickCallback(j)},moveNext:function(){n=m,h==="slide"?(n.stop().animate({left:-i},{duration:f,easing:g,complete:d.fn.slideOutCallback}),m=B&&m!==B?B:l[j],d.fn.prepareSlide(),m.show().css({left:i}).each(d.fn.slideAnimateInit).stop().animate({left:0},{duration:f,easing:g,complete:d.fn.slideAnimatePlay})):(n.stop().fadeOut({duration:f,easing:g,complete:d.fn.slideOutCallback}),m=B&&m!==B?B:l[j],d.fn.prepareSlide(),m.show().fadeOut(0).each(d.fn.slideAnimateInit).stop().fadeIn({duration:f,easing:g,complete:d.fn.slideAnimatePlay})),d.fn.setPill()},prev:function(a){a&&a.preventDefault(),x=!1,B&&n===B&&d.fn.removeInterstitial();if(!B||B===m)j-=1,j<0&&(j=k);m.each(function(){d.fn.slideAnimateOut(this,d.fn.movePrev)}),a&&d.fn.clickCallback(j)},movePrev:function(){n=m,h==="slide"?(n.stop().animate({left:i},{duration:f,easing:g,complete:d.fn.slideOutCallback}),m=B&&m!==B?B:l[j],d.fn.prepareSlide(),m.show().css({left:-i}).each(d.fn.slideAnimateInit).stop().animate({left:0},{duration:f,easing:g,complete:d.fn.slideAnimatePlay})):(n.stop().fadeOut({duration:f,easing:g,complete:d.fn.slideOutCallback}),m=B&&m!==B?B:l[j],d.fn.prepareSlide(),m.show().fadeOut(0).each(d.fn.slideAnimateInit).stop().fadeIn({duration:f,easing:g,complete:d.fn.slideAnimatePlay})),d.fn.setPill()},slideOutCallback:function(){a(this).html(a(this).html()).hide(),B&&n===B&&d.fn.removeInterstitial()},slideAnimateInit:function(){a(this).find("[data-speed]").each(function(){var b=a(this).attr("data-x-start")?a(this).attr("data-x-start"):!1,c=a(this).attr("data-y-start")?a(this).attr("data-y-start"):!1,d=a(this).attr("data-opacity-start")?a(this).attr("data-opacity-start"):!1,e=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,f={};b&&(e&&!x&&(b=-b),f.left=b+"px"),c&&(f.top=c+"px"),d&&(f.opacity=d),a(this).css(f).hide()})},slideAnimatePlay:function(){a(this).find("[data-speed]").each(function(){var b=a(this).attr("data-x-end")?a(this).attr("data-x-end"):!1,c=a(this).attr("data-y-end")?a(this).attr("data-y-end"):!1,d=a(this).attr("data-speed"),e=a(this).attr("data-opacity-end")?a(this).attr("data-opacity-end"):!1,f=a(this).attr("data-delay")?a(this).attr("data-delay"):0,g=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,h=a(this).attr("data-easing")?a(this).attr("data-easing"):"linear",i={};b&&(g&&!x&&(b=-b),i.left=b),c&&(i.top=c),e&&(i.opacity=e),a(this).stop().show().delay(f).animate(i,{duration:d,easing:h})}),m.stop().animate({left:0},{duration:f,easing:g})},slideAnimateOut:function(b,c){o=0,p=0,a(b).find("[data-speed]").each(function(){var b=a(this).attr("data-x-out")?a(this).attr("data-x-out"):!1,e=a(this).attr("data-y-out")?a(this).attr("data-y-out"):!1,f=a(this).attr("data-speed-out")?a(this).attr("data-speed-out"):a(this).attr("data-speed"),g=a(this).attr("data-opacity-out")?a(this).attr("data-opacity-out"):!1,h=a(this).attr("data-delay-out")?a(this).attr("data-delay-out"):0,i=a(this).attr("data-reverse")?a(this).attr("data-reverse"):!1,j=a(this).attr("data-easing-out")?a(this).attr("data-easing-out"):a(this).attr("data-easing")?a(this).attr("data-easing"):"linear",k={};if(!b&&!e&&!g)return;o+=1,b&&(i&&!x&&(b=-b),k.left=b),e&&(k.top=e),g&&(k.opacity=g),a(this).stop().show().delay(h).animate(k,{duration:f,easing:j,complete:function(){d.fn.animateOutComplete(c)}})}),o===p&&c()},animateOutComplete:function(a){p+=1,p>=o&&a()},touchstartHandler:function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];r=(new Date).getTime(),s=c.pageX,t=c.pageY,z&&m.stop(),a(A).off("touchmove",d.fn.touchmoveHandler),a(A).on("touchmove",d.fn.touchmoveHandler)},touchmoveHandler:function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];u.x=s-c.pageX,u.y=t-c.pageY;if(Math.abs(u.x)>Math.abs(u.y)){if(z)return m.css({left:-u.x}),!1;s=c.pageX,a(A).off("touchmove",d.fn.touchmoveHandler),u.x>0?d.fn.next(b):d.fn.prev(b)}},touchendHandler:function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];u.x=s-c.pageX,a(A).off("touchmove",d.fn.touchmoveHandler);if(z&&Math.abs(u.x)<q)m.stop().animate({left:0},{duration:300,easing:"easeOutBack"});else return u.x>0?d.fn.next(b):d.fn.prev(b),!1},createPills:function(){var b,c;v=a('<span class="slydeshow-pills"></span>'),e.append(v);for(b=0;b<l.length;b+=1)v.append("<span></span>");c=Math.abs((e.width()-v.width())/2),v.css({left:c}),a(v.children()[0]).addClass("active")},setPill:function(){a(v.children()).removeClass("active"),a(v.children()[j]).addClass("active"),d.fn.changeCallback(m)},pillClickHandler:function(b){var c=a(this).index();b&&b.preventDefault(),d.fn.gotoSlide(c),d.fn.clickCallback(c)},gotoSlide:function(a){if(a===j||a<0||a>k)return;if(j>0&&a<j){if(!B||m===B)j=a;d.fn.movePrev()}else{if(!B||m===B)j=a;d.fn.moveNext()}},addInterstitial:function(b){d.fn.removeInterstitial(),B=a("<li></li>"),B.append(b),B.hide(),e.find("ul:first").append(B)},removeInterstitial:function(){B&&(B.remove(),B=undefined)}},typeof c=="function"&&(d.fn.changeCallback=c);if(d.fn[b])return d.fn[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return d.fn.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.slydeshow")}}(jQuery),function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode;if(typeof m.init!="undefined")throw new Error("History.js Core has already been loaded...");m.init=function(){return typeof m.Adapter=="undefined"?!1:(typeof m.initCore!="undefined"&&m.initCore(),typeof m.initHtml4!="undefined"&&m.initHtml4(),!0)},m.initCore=function(){if(typeof m.initCore.initialized!="undefined")return!1;m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if(typeof b!="undefined"&&b!==null){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){(m.options.debug||!1)&&m.log.apply(m,arguments)},m.log=function(){var a=typeof c!="undefined"&&typeof c.log!="undefined"&&typeof c.log.apply!="undefined",b=d.getElementById("log"),e,f,g,h,i;a?(h=Array.prototype.slice.call(arguments),e=h.shift(),typeof c.debug!="undefined"?c.debug.apply(c,[e,h]):c.log.apply(c,[e,h])):e="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){i=arguments[f];if(typeof i=="object"&&typeof k!="undefined")try{i=k.stringify(i)}catch(j){}e+="\n"+i+"\n"}return b?(b.value+=e+"\n-----\n",b.scrollTop=b.scrollHeight-b.clientHeight):a||l(e),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached=typeof m.getInternetExplorerMajorVersion.cached!="undefined"?m.getInternetExplorerMajorVersion.cached:function(){var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");while((b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0]);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached=typeof m.isInternetExplorer.cached!="undefined"?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent)),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&e.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port||!1)a+=":"+d.location.port;return a+="/",a},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return a.length===1&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a=m.getState(!1,!1),b=(a||{}).url||d.location.href,c;return c=b.replace(/\/+$/,"").replace(/[^\/]+$/,function(a,b,c){return/\./.test(a)?a:a+"/"}),c},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a,b,c){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b=typeof b=="undefined"?!0:b,/[a-z]+\:\/\//.test(a)||(d==="/"?c=m.getRootUrl()+a.replace(/^\/+/,""):d==="#"?c=m.getPageUrl().replace(/#.*/,"")+a:d==="?"?c=m.getPageUrl().replace(/[\?#].*/,"")+a:b?c=m.getBaseUrl()+a.replace(/^(\.\/)+/,""):c=m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),b},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){typeof a=="undefined"&&(a=!0),typeof b=="undefined"&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b=m.extractId(a.url),c;if(!b){c=m.getStateString(a);if(typeof m.stateToId[c]!="undefined")b=m.stateToId[c];else if(typeof m.store.stateToId[c]!="undefined")b=m.store.stateToId[c];else{for(;;){b=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof m.idToState[b]=="undefined"&&typeof m.store.idToState[b]=="undefined")break}m.stateToId[c]=b,m.idToState[b]=a}}return b},m.normalizeState=function(a){var b,c;if(!a||typeof a!="object")a={};if(typeof a.normalized!="undefined")return a;if(!a.data||typeof a.data!="object")a.data={};b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data);if(b.title||c)b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id;return b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};return d=m.normalizeState(d),d},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c),d},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id,c},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash,c},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c=null,d,e;return b=b||!1,d=m.extractId(a),d&&(c=m.getStateById(d)),c||(e=m.getFullUrl(a),d=m.getIdByUrl(e)||!1,d&&(c=m.getStateById(d)),!c&&b&&!m.isTraditionalAnchor(a)&&(c=m.createStateObject(null,null,e))),c},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b=!1,c;return c=m.extractState(a.url),b=c&&c.id!==a.id,b},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b=!1,c,d,e;return m.savedStates.length&&(c=a.id,d=m.getLastSavedState(),e=d.id,b=c===e),b},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return typeof a=="undefined"?b=m.savedStates[m.savedStates.length-1]:a<0?b=m.savedStates[m.savedStates.length+a]:b=m.savedStates[a],b},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){var c=b,d;for(;;){d=a.unescape(c);if(d===c)break;c=d}return c},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b),b},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b),b},m.setTitle=function(a){var b=a.title,c;b||(c=m.getStateByIndex(0),c&&c.url===a.url&&(b=c.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=b.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=b,m},m.queues=[],m.busy=function(a){typeof a!="undefined"?m.busy.flag=a:typeof m.busy.flag=="undefined"&&(m.busy.flag=!1);if(!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(m.busy.flag)return;for(a=m.queues.length-1;a>=0;--a){c=m.queues[a];if(c.length===0)continue;d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay)}};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return typeof a=="function"&&(a={callback:a}),typeof b!="undefined"&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b=m.extractState(d.location.href),c;if(!m.isLastSavedState(b))c=b;else return;return c||(c=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;c<=a;++c)m.forward(b);else{if(!(a<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m};if(m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e=!1,f=!1,g,h;return m.doubleCheckComplete(),g=m.getHash(),g?(h=m.extractState(g||d.location.href,!0),h?m.replaceState(h.data,h.title,h.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(e=m.Adapter.extractEventData("state",b,c)||!1,e?f=m.getStateById(e):m.expectedStateId?f=m.getStateById(m.expectedStateId):f=m.extractState(d.location.href),f||(f=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(f)?(m.busy(!1),!1):(m.storeState(f),m.saveState(f),m.setTitle(f),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState){if(!m.idToState.hasOwnProperty(b))continue;a.idToState[b]=m.idToState[b]}for(b in m.urlToId){if(!m.urlToId.hasOwnProperty(b))continue;a.urlToId[b]=m.urlToId[b]}for(b in m.stateToId){if(!m.stateToId.hasOwnProperty(b))continue;a.stateToId[b]=m.stateToId[b]}m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload));if(!m.emulated.pushState){m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval));if(e.vendor==="Apple Computer, Inc."||(e.appCodeName||"")==="Mozilla")m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})}},m.init()}(window),function(a,b){"use strict",a.salvattore=b()}(this,function(){window.matchMedia||(window.matchMedia=function(){var a=window.styleMedia||window.media,b,c,d;return a||(b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null,b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,d.width==="1px"}}),function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var a=window.matchMedia,b=a("only all").matches,c=!1,d=0,e=[],f=function(b){clearTimeout(d),d=setTimeout(function(){for(var b=0,c=e.length;b<c;b++){var d=e[b].mql,f=e[b].listeners||[],g=a(d.media).matches;if(g!==d.matches){d.matches=g;for(var h=0,i=f.length;h<i;h++)f[h].call(window,d)}}},30)};window.matchMedia=function(d){var g=a(d),h=[],i=0;return g.addListener=function(a){if(!b)return;c||(c=!0,window.addEventListener("resize",f,!0)),i===0&&(i=e.push({mql:g,listeners:h})),h.push(a)},g.removeListener=function(a){for(var b=0,c=h.length;b<c;b++)h[b]===a&&h.splice(b,1)},g}}(),function(){var a=0,b=["ms","moz","webkit","o"],c;for(c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var a=function(a,b,c){var d={},e=[],f=function(a,b,c){a.dataset?a.dataset[b]=c:a.setAttribute("data-"+b,c);return};return d.obtain_grid_settings=function g(b){var c=a.getComputedStyle(b,":before"),d=c.getPropertyValue("content").slice(1,-1),e=d.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),f,g;return e?(f=e[1],g=e[2],g=g?g.split("."):["column"]):(e=d.match(/^\s*\.(.+)\s+(\d+)\s*$/),g=e[1],f=e[2],f&&(f=f.split("."))),{numberOfColumns:f,columnClasses:g}},d.add_columns=function h(a,c){var e=d.obtain_grid_settings(a),g=e.numberOfColumns,h=e.columnClasses,i=new Array(+g),j=b.createDocumentFragment(),k=g,l;while(k--!==0)l="[data-columns] > *:nth-child("+g+"n-"+k+")",i.push(c.querySelectorAll(l));i.forEach(function(a){var c=b.createElement("div"),d=b.createDocumentFragment();c.className=h.join(" "),Array.prototype.forEach.call(a,function(a){d.appendChild(a)}),c.appendChild(d),j.appendChild(c)}),a.appendChild(j),f(a,"columns",g)},d.remove_columns=function i(c){var d=b.createRange(),e,g,h,i,j;return d.selectNodeContents(c),e=Array.prototype.filter.call(d.extractContents().childNodes,function(b){return b instanceof a.HTMLElement}),g=e.length,h=e[0].childNodes.length,i=new Array(h*g),Array.prototype.forEach.call(e,function(a,b){Array.prototype.forEach.call(a.children,function c(a,c){i[c*g+b]=a})}),j=b.createElement("div"),f(j,"columns",0),i.filter(function(a){return!!a}).forEach(function(a){j.appendChild(a)}),j},d.recreate_columns=function(b){a.requestAnimationFrame(function(){d.add_columns(b,d.remove_columns(b))})},d.media_query_change=function(a){a.matches&&Array.prototype.forEach.call(e,d.recreate_columns)},d.get_css_rules=function(a){var b;try{b=a.sheet.cssRules||a.sheet.rules}catch(c){return[]}return b||[]},d.get_stylesheets=function(){return Array.prototype.concat.call(Array.prototype.slice.call(b.querySelectorAll("style[type='text/css']")),Array.prototype.slice.call(b.querySelectorAll("link[rel='stylesheet']")))},d.media_rule_has_columns_selector=function(a){if(a===c)return!1;var b=a.length,d;while(b--){d=a[b];if(d.selectorText&&d.selectorText.match(/\[data-columns\](.*)::?before$/))return!0}return!1},d.scan_media_queries=function(){var b=[];if(!a.matchMedia)return;d.get_stylesheets().forEach(function c(c){Array.prototype.forEach.call(d.get_css_rules(c),function(c){c.media&&d.media_rule_has_columns_selector(c.cssRules)&&b.push(a.matchMedia(c.media.mediaText))})}),b.forEach(function(a){a.addListener(d.media_query_change)})},d.next_element_column_index=function(a,b){var c=a.children,d=c.length,e=0,f,g,h,i=0;for(h=0;h<d;h++)f=c[h],g=f.children.length+b[h].childNodes.length,e===0&&(e=g),g<e&&(i=h,e=g);return i},d.create_list_of_fragments=function(a){var c=new Array(a),d=0;while(d!==a)c[d]=b.createDocumentFragment(),d++;return c},d.append_elements=function(a,b){var c=a.children,e=c.length,f=d.create_list_of_fragments(e);b.forEach(function(b){var e=d.next_element_column_index(a,f);c[e].appendChild(b)})},d.prepend_elements=function(a,c){var e=a.children,f=e.length,g=d.create_list_of_fragments(f),h=f-1,i,j;c.forEach(function(a){var b=g[h];b.insertBefore(a,b.firstChild),h===0?h=f-1:h--}),Array.prototype.forEach.call(e,function(a,b){a.insertBefore(g[b],a.firstChild)}),i=b.createDocumentFragment(),j=c.length%f;while(j--!==0)i.appendChild(a.lastChild);a.insertBefore(i,a.firstChild)},d.register_grid=function(c){var g,h;if(a.getComputedStyle(c).display==="none")return;g=b.createRange(),g.selectNodeContents(c),h=b.createElement("div"),h.appendChild(g.extractContents()),f(h,"columns",0),d.add_columns(c,h),e.push(c)},d.init=function(){var a=b.createElement("style"),c;a.innerHTML="[data-columns]::before{visibility:hidden;position:absolute;font-size:1px;}",b.head.appendChild(a),c=b.querySelectorAll("[data-columns]"),Array.prototype.forEach.call(c,d.register_grid),d.scan_media_queries()},d.init(),{append_elements:d.append_elements,prepend_elements:d.prepend_elements,register_grid:d.register_grid}}(window,window.document);return a}),function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if(typeof c.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},typeof c.init!="undefined"&&c.init()}(window),function(a,b){"use strict",a.resize=function(){b(".resizeable").find("iframe").each(function(){var a,c,d;b(this).attr("data-ratio")===undefined?(d=b(this).height()/b(this).width(),b(this).attr("data-ratio",d)):d=b(this).attr("data-ratio"),b(this).attr("width","100%"),c=Math.round(b(this).width()*d),b(this).attr("height",c)})},b(".resizeable").length!==0&&(a.resize(),b(window).resize(a.resize))}(window.app.www,jQuery),function(a,b){"use strict",a.GaParser=function(){var a=this;this.counter=0,this.execute=function(){a.parse()&&a.populateInputs()},this.parse=function(){var b,c;return b=a.getCookie("__utmz"),!b||b.length<1?(a.counter+=1,a.counter<4&&setTimeout(a.execute,1e3),!1):(c=a.splitLimit(b,".",4),a.domain_hash=c[0],a.timestamp=c[1],a.session_number=c[2],a.campaign_number=c[3],a.campaign_data=c[4],a.campaign_source=a.getQueryVariable(a.campaign_data,"utmcsr","|"),a.campaign_name=a.getQueryVariable(a.campaign_data,"utmccn","|"),a.campaign_medium=a.getQueryVariable(a.campaign_data,"utmcmd","|"),a.campaign_term=a.getQueryVariable(a.campaign_data,"utmctr","|"),a.campaign_content=a.getQueryVariable(a.campaign_data,"utmcct","|"),!0)},this.populateInputs=function(){b("input[name=gaName]").val(a.campaign_name),b("input[name=gaSource]").val(a.campaign_source),b("input[name=gaContent]").val(a.campaign_content),b("input[name=gaMedium]").val(a.campaign_medium),b("input[name=gaTerm]").val(a.campaign_term)},this.getCookie=function(a){var b,c,d,e,f=document.cookie.split(";");for(b=0;b<f.length;b+=1){e=f[b],c=e.indexOf("=");if(c>=0){d=e.substring(0,c).replace(" ","");if(d===a)return e.substring(c+1,e.length)}}},this.splitLimit=function(a,b,c){var d,e;return d=a.split(b,c),e=d.join(b),a.length>e.length&&d.push(a.substring(e.length+1,a.length)),d},this.getQueryVariable=function(a,b,c){var d,e,f;c=typeof c=="undefined"?"&":c,f=a.split(c);for(d=0;d<f.length;d+=1){e=f[d].split("=");if(decodeURIComponent(e[0])===b)return decodeURIComponent(e[1])}return}},b(function(){var b=new a.GaParser;b.execute()})}(window.app.www,jQuery),function(a,b){"use strict";var c=b("#author-popular"),d=b("#author-recent"),e;a.AuthorPosts=function(){function i(b,c,d){var f=function(b){c.find("ul").append(b.html),j(c),e.remove(),a.social=new a.Social,a.social.init(),c.children("h3").text()==="Most Recent"&&b.more!==!1&&h.show()};a.AjaxHandler(b,f,{type:"GET",data:d})}function j(a){var c=a.children("h3");c.on("click",function(){b(this).parent().addClass("selected").siblings().removeClass("selected")})}var f=this,g=b("#author-name").text(),h=b("#more-btn");return this.init=function(){e=b(".loader").clone(),e.prependTo("#author-posts").show(),i("/author-recent",d,{uid:b("#author-page").data("uid")}),i("/author-popular",c,{author:encodeURIComponent(g)})},f},b(function(){var c;b("#author-posts").length>0&&(c=new a.AuthorPosts,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.AjaxHandler=function(a,c,d){var e,f,g=new Date,h;h=g.getMonth()+1+"-"+g.getDate()+"-"+g.getFullYear()+"h"+g.getHours(),e=function(a){console.log(a.status+": "+a.statusText)},f=b.extend({type:"GET",dataType:"json",timeout:6e4,errorHandler:e,cache:!0,data:{}},d),f.data.ts=h,b.ajax({type:f.type,url:a,dataType:f.dataType,timeout:f.timeout,cache:f.cache,data:f.data}).done(c).fail(f.errorHandler)}}(window.app.www,jQuery),function(a,b){"use strict",a.Scroll=function(){function r(){var c=m?"HOMEPAGE":"SLIDESHOW",d,e,f=2500;l||(a.isMobile?(window.googletag.rotate(c),f=500):(d=b(window).scrollTop()+b(window).height(),e=b(".fixed-gallery").offset(),e.top+300<d&&window.googletag.rotate(c)),l=!0,k=setTimeout(function(){l=!1},f))}function s(a){var b;m||(b=a==="slide1"?e:e+a,window._gaq.push(["_trackPageview",b]),window._qevents.push({qacct:"p-659UZw3_sg3Sg",event:"refresh"}),window.COMSCORE.beacon({c1:"2",c2:"13554700"}),window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","slidePageview"]),d.enabled&&!n&&d.replaceState(null,window.document.title,b))}function t(a){var c=a.split("/"),d=c[c.length-1].split("?")[0].split("#")[0].replace("slide","");d===parseInt(d,10).toString()&&b("#slide"+d).length>0&&b(window).scrollTop(b("#slide"+d).offset().top)}function u(){var a=m?b(".list-item"):b(".slide, .transitional"),c=b(window).scrollTop()-j,d=c+b(window).height();a.each(function(a){var e,f="slide"+(a+1);e=b(this).offset();if(e.top>d)return!1;if(e.top>c&&e.top<d)return f!==i&&(i=f,r(),!m&&b(this).hasClass("slide")&&s(b(this).attr("id"))),!1}),p.length>0&&o.length>0&&p.is(":visible")&&(q=p.offset().top,q>c&&q<d?o.hide():o.show())}var c=this,d=window.History,e,f=b(".slides"),g,h=window.location.href,i="slide1",j=200,k,l=!1,m=b(".homepage").length>0,n=b(".gallery-detail").length>0,o=b("#footer-ad"),p=b(".mobile-interstitial"),q;return this.init=function(){m||(e=b('link[rel="canonical"]').prop("href"),e.slice(-1)!=="/"&&(e=e+"/"),f.length>0&&(g=f.prop("id"),h.indexOf(g+"/slide")>-1&&(t(h),b("body").imagesLoaded(function(){t(h)})))),b(window).on("scroll",u),b(window).on("touchstart",u)},c},b(function(){var c;if(b(".slideshow-detail .slide").length>0||b(".homepage").length>0)c=new a.Scroll,c.init()})}(window.app.www,jQuery),function(a,b){"use strict",a.Paginator=function(){var c=this,d=window.History,e="",f=!1,g=!0,h,i=1,j,k=!1;return c.lastPageCallback="",c.pageLoaded=1,c.isDisabled=!1,c.autoScroll=!0,c.pages=3,b(".gallery-detail").length>0&&(c.pages=10),c.init=function(){b("#more-btn.pagination-disabled").length>0&&(c.isDisabled=!0),b("footer").on("click",function(){c.autoScroll=!1,c.enable()}),b(".pagination-grid").length!==0&&b(".pagination-grid").imagesLoaded(function(){b("#more-btn a").fadeIn()}),b(window).on("scroll",function(){b("#more-btn").length>0&&b("#more-btn").offset().top<b(window).height()+b(window).scrollTop()&&!c.isDisabled&&c.autoScroll&&(c.pageLoaded<c.pages&&c.disable(),c.loadPage())})},c.parseUrl=function(){var a=window.location.href.split("/"),b,d,g;for(d=0;d<a.length;d+=1){if(a[d]==="page"){i=c.pageLoaded=parseInt(a[d+1],10);break}if(a[d]===""&&d===a.length-1)break;if(a[d].indexOf("search?")!==-1){f=!0,e+=a[d],b=a[d].substring(a[d].indexOf("?")+1,a[d].length).split("&");for(g=0;g<b.length;g+=1)if(b[g].indexOf("page")!==-1){i=c.pageLoaded=parseInt(b[g].substring(b[g].indexOf("=")+1,b[g].length),10);break}b=e.split("&");if(b.length>1){e=b[0];for(g=1;g<b.length;g+=1){if(b[g].indexOf("page")!==-1)continue;e+="&"+b[g]}}}else e+=a[d].split("?")[0]+"/"}e.substr(e.length-2,2)==="//"&&(e=e.substr(0,e.length-1))},c.parseUrl(),b("#more-btn:not(.pagination-disabled)").on("click",function(a){c.next(a)}),c.next=function(a){a.preventDefault(),k?c.showNextPage():(c.disable(),c.loadPage())},c.loadPage=function(){var a,d,e,f="",l="all",m,n=new Date,o;o=n.getMonth()+1+"-"+n.getDate()+"-"+n.getFullYear()+"h"+n.getHours();if(i>c.pageLoaded)return;i+=1;if(b("#more-btn a").length>0)a=b("#more-btn a").attr("href");else{a=b(h).attr("href");if(a===undefined)return}d=a.split("?");if(d.length>1){d=d[1].split("&");for(m=0;m<d.length;m+=1)e=d[m].split("="),e[0]==="q"&&(f=e[1]),e[0]==="filter"&&(l=e[1])}b.ajax({type:"GET",url:a,data:{page:i,q:f,filter:l,mode:"ajax",ts:o},dataType:"json",cache:!0,success:function(a){j=b(a.html.toString()),k=!0,g=a.more,c.isDisabled&&c.showNextPage()},error:function(a){console.log("status:"+a.status+"-"+a.statusText),b("#more-btn").fadeOut()}})},c.showNextPage=function(){var g=!1,h=".pagination-list",l,m,n,o;f?m=e+"&page="+i:m=e+"page/"+i,window._gaq.push(["_trackPageview",m]),window.COMSCORE.beacon({c1:"2",c2:"13554700"}),d.enabled&&b(".no-history").length===0&&d.pushState(null,window.document.title,m),c.pageLoaded+=1,window.googletag.rotate("SLIDESHOW"),b("#salvattore").length>0?(o=document.querySelector("#salvattore"),j.css("opacity",0),window.salvattore.append_elements(o,j.toArray()),a.gallery.init(),j.imagesLoaded(function(){j.each(function(){var a=b(this);setTimeout(function(){a.animate({opacity:1},700)},Math.floor(Math.random()*1e3+1))}),k=!1,c.enable()})):g?(j.css("opacity",0),j.imagesLoaded(function(){b(document).scrollTop()<b(h).height()&&b("body,html").animate({scrollTop:b(h).height()},500),b(h).append(j).masonry("appended",j,!0),j.each(function(){var a=b(this);setTimeout(function(){a.animate({opacity:1},700)},Math.floor(Math.random()*1e3+1))}),k=!1,c.enable()})):(j.css("opacity",0),b(h).append(j),b(".tags-wrapper").length>0&&j.find(".tags-wrapper").tagDropDown(),l=0,j.each(function(){var a=b(this);l+=100,setTimeout(function(){a.animate({opacity:1},300)},l)}),setTimeout(c.enable,100),k=!1),b(".social-count").length>0&&a.social.init(),n=jQuery.Event("showNextPage"),b(document).trigger(n)},c.disable=function(){c.isDisabled=!0,h=b("#more-btn").html(),b("#more-btn").html('<span class="more-label loading" title="Loading">&nbsp;</span>'),b("#more-btn").off("click"),b("#more-btn").on("click",function(a){a.preventDefault()})},c.enable=function(){c.isDisabled=!1,b("#more-btn").off("click"),g?(b("#more-btn").on("click",function(a){c.next(a)}),b("#more-btn").html(h)):(typeof c.lastPageCallback=="function"&&c.lastPageCallback(c.pageLoaded),b("#more-btn").fadeOut())},c},b("#more-btn").length!==0&&b(".pagination-grid").length!==0&&b("#more-btn a").hide(),b(function(){b("#more-btn").length!==0&&(a.paginator=a.Paginator(),b(".gallery-detail").length!==0&&(a.paginator.lastPageCallback=function(c){var d=new a.GalleryGrid,e=b("#gallery-detail-title").attr("data-slug");d.init(e,c)}),a.paginator.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Debug=function(){var c=this;return c.content="",c.log=function(b){a.displayDebug===1&&(c.content.length>0&&(c.content+="\r"),c.content+=b,c.render())},c.clear=function(){a.displayDebug===1&&(c.content="",c.render())},c.render=function(){var d;a.displayDebug===1&&(b("#consoleWin").length===0&&(d='<style type="text/css">.consoleButton a { padding:5px 10px; background:#666; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; } .consoleButton a:hover { background: #FFF; text-decoration:none; color:#000; }</style>',d+='<div style="position:fixed; right:10px; top:10px; z-index:10000; color:#000;"><div id="consoleHide" class="consoleButton"><a href="#" onclick="$(\'#consoleWin\').hide(\'fast\');$(\'#consoleHide\').hide();$(\'#consoleShow\').show();return false;">–</a></div><div id="consoleShow" class="consoleButton" style="display:none;">'+"<a href=\"#\" onclick=\"$('#consoleWin').show('fast');$('#consoleHide').show();$('#consoleShow').hide();return false;\">+</a></div></div>",d+='<pre id="consoleWin" style="position:fixed; z-index:10000; max-width: 1000px; max-height: 400px; overflow: auto; right:10px; top:40px; background-color:rgba(255, 255, 255, 0.8); color:#000;"><div></div></pre>',b("body").append(d)),b("#consoleWin > div").html(c.content),b("#consoleWin").scrollTop(b("#consoleWin > div").height()-b("#consoleWin").height()))},c},a.debug=new a.Debug}(window.app.www,jQuery),function(a,b){"use strict",a.OverlayHelper=function(){var a=this;return this.disableScroll=function(){var a=window.pageYOffset;setTimeout(function(){b("html, body").scrollTop(a)},1),b("body").on("touchmove",function(){return!1})},this.enableScroll=function(){b("body").off("touchmove")},a},a.overlayHelper=new a.OverlayHelper,b.fn.preventZoom=function(){var a=b(this),c=b('meta[name="viewport"]'),d=c.attr("content");a.on("focus",function(){c.attr("content","width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no")}),a.on("blur",function(){c.attr("content",d)})},b.fn.preventSafariScroll=function(){var c=b(this);return c.on("focus touchstart",a.overlayHelper.disableScroll),c.on("blur touchend",a.overlayHelper.enableScroll),c},b.fn.preventTouchOnFocus=function(){var a=b(this);return a.on("focus",function(){b("body").on("touchmove",function(){return!1})}),a.on("blur",function(){b("body").off("touchmove")}),a.prop("tagName")&&a.prop("tagName").toLowerCase()==="select"&&a.on("change",function(){b("body").off("touchmove")}),a}}(window.app.www,jQuery),function(a,b){"use strict",a.Navigation=function(){var a=this,c,d=15,e,f=b("body"),g=b("#header"),h=b("#main-menu"),i=b("#menu-bar"),j=b("#menu-btn"),k=j.offset(),l=b("#menu-bg"),m=b('#nl-hamburger input[name="email"]'),n=b('#nl-footer input[name="email"]'),o=i.height()-i.find(".newsletter-signup").outerHeight(),p=b('meta[name="viewport"]'),q=p.attr("content"),r=h.width(),s=h.css("left"),t=h.height(),u=!1,v=!1;return this.init=function(){j.on("click",a.menuToggle),l.on("click",a.menuToggle),b(window).scroll(a.headerToggle),m.on("focus",function(){p.attr("content","width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"),i.css("padding-bottom",o+"px"),o=i.height()-i.find(".newsletter-signup").outerHeight(),h.scrollTop(o)}),m.on("blur",function(){setTimeout(function(){p.attr("content",q),i.css("padding-bottom","0px")},100)}),n.preventZoom(),b("#search-bar").preventZoom(),b("#search-bar").preventSafariScroll(),b("#menu-bg").preventSafariScroll()},this.menuToggle=function(){u?(g.off("touchstart",a.touchstartHandler),g.off("touchend",a.touchendHandler),f.removeClass("stop-scrolling"),h.stop().animate({left:s},300,"easeOutQuint",function(){h.height(t)}),j.stop().animate({left:k.left},300,"easeOutQuint").fadeIn("fast"),l.stop(!0,!0).fadeOut("fast"),a.headerToggle()):(g.on("touchstart",a.touchstartHandler),g.on("touchend",a.touchendHandler),f.addClass("stop-scrolling"),h.stop().height("100%").animate({left:"0px"},300,"easeOutQuint"),j.stop().animate({left:r+k.left+1},300,"easeOutQuint").fadeIn("fast"),l.stop(!0,!0).fadeIn("fast")),u=!u},this.headerToggle=function(){v&&(j.stop(!0,!0).fadeIn("fast"),v=!1),clearTimeout(c),c=setTimeout(function(){!u&&b(window).scrollTop()>3&&(j.stop(!0,!0).fadeOut("fast"),v=!0)},2e3)},this.touchstartHandler=function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];e=c.pageX,g.off("touchmove",a.touchmoveHandler),g.on("touchmove",a.touchmoveHandler)},this.touchmoveHandler=function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],f=e-c.pageX;e=c.pageX,f>d&&(h.off("touchmove",a.touchmoveHandler),a.menuToggle())},this.touchendHandler=function(b){var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],f=e-c.pageX;g.off("touchmove",a.touchmoveHandler),f>d&&a.menuToggle()},this.isMenuVisible=function(){return u},a},b(function(){var c=new a.Navigation;c.init(),b("#main").on("click",".close-btn",function(){c.isMenuVisible()&&c.menuToggle()})})}(window.app.www,jQuery),function(a,b){"use strict",a.AjaxFormHelper=function(){var a=this,c,d,e,f=b("div.loader"),g={email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,inputClassName:"email",errorMessage:"A valid email address is required."}};this.processForm=function(c,h){h.find("label.error").remove(),d=h.find("input."+g.email.inputClassName),e=d.val(),a.isFilled(e)&&a.isValidEmail(e)?(f.show(),a.sendForm(c,h)):b('<label for="email" class="error">'+g.email.errorMessage+"</label>").insertBefore(d)},this.sendForm=function(a,d){c=b.post(a,d.serialize()+"&template=email/subscribe&mode=ajax"),c.done(function(a){b("#subscribe-result").length<1&&b('<div id="ajax-subscribe" class="overlay"><div class="close-btn">X</div><div id="subscribe-result"/></div>').appendTo("#main"),b("#subscribe-result").html(a.html).parent().show(),b("#email_subscribe").length>0&&(b("#email_subscribe input").preventTouchOnFocus(),b("#email_subscribe select").preventTouchOnFocus())}),c.fail(function(){d.submit()}),c.always(function(){f.hide()})},this.isValidEmail=function(a){return g.email.regex.test(a)},this.isFilled=function(a){return a!==""}},a.formHelper=new a.AjaxFormHelper,b(function(){b("#main").on("submit","#email_subscribe",function(a){!b("#home_newsletter").is(":checked")&&!b("#fashion_newsletter").is(":checked")&&!b("#beauty_newsletter").is(":checked")&&(b(".newsletter-error").length<1&&b('<label class="error newsletter-error">You must select at least one newsletter.</label>').appendTo(b("#email_subscribe")),a.preventDefault())}),b("#main").on("click","#ajax-subscribe .close-btn",function(){b(this).parent().remove()})})}(window.app.www,jQuery),function(a,b){"use strict",a.Contact=function(){var c,d;b("#contact-form #select-state option:first").attr("disabled","disabled"),b("#contact-form #select-country option:first").attr("disabled","disabled"),b("#contact-form #select-state").val(""),b("#contact-form #select-country").val(""),b.validator.addMethod("zip",function(a){return a===""?!0:/^((\d{5}-\d{4})|(\d{5})|([A-Z]\d[A-Z]\s\d[A-Z]\d))$/.test(a)},"Please enter a valid US zip code."),b.validator.addMethod("phone",function(a){return a===""?!0:/^[01]?[\- .]?\(?[2-9]\d{2}\)?[\- .]?\d{3}[\- .]?\d{4}$/.test(a)},"Please enter a valid phone number."),b("#contact-form #general-form").validate({invalidHandler:function(a,c){b("ul.errors").hide()}}),b("#contact-form #advertising-form").validate({invalidHandler:function(a,c){b("ul.errors").hide()}}),b("#contact-form #select-country").change(function(){var a=b(this).val();a!=="US"?(b("#contact-form #select-state").val(""),b("#contact-form #select-state").removeClass("required"),b("#contact-form #select-state").attr("disabled","disabled")):(b("#contact-form #select-state").hasClass("required")||b("#contact-form #select-state").addClass("required"),b("#contact-form #select-state").removeAttr("disabled"))}),b("#contact-form #select-contact").change(function(){var a=b(this).val();window.location.hash=a,a==="advertising"?(b("#contact-form #general-form").filter(":visible").hide("fast"),b("#contact-form #advertising-form").filter(":hidden").show("fast")):(b("#contact-form #advertising-form").filter(":visible").hide("fast"),b("#contact-form #general-form").filter(":hidden").show("fast")),b('#contact-form input[name="type"]').val(a)}),a.Contact.onhashchange=function(){c=window.location.hash.replace("#",""),(c==="advertising"||c==="business"||c==="careers"||c==="editorial"||c==="support"||c==="press")&&c!==b("#contact-form #select-contact").val()&&(b("#contact-form #select-contact").val(c),b("#contact-form #select-contact").change())},window.addEventListener("hashchange",a.Contact.onhashchange,!1),a.Contact.onhashchange()},b(document).ready(function(){b("#contact-form").length!==0&&(a.myContact=new a.Contact)})}(window.app.www,jQuery),function(a,b){"use strict",b(".blog-body-content").find("img").removeAttr("height"),b(".blog-body-content").find("img").removeAttr("width"),b(".blog-body-content").find("img").css("height",""),b(".blog-body-content").find("img").css("width","100%"),b(".blog-body-content").find("img").css("max-width","640px")}(window.app.www,jQuery),function(a,b){"use strict",b.fn.checkbox=function(){return this.each(function(){var a=b(this),c=b(this).data("form"),d=b(this).attr("id")+"-hidden",e=b("#"+d),f="1";a.html('<span class="checked">X</span>'),a.data("value",f),a.on("click",function(c){var d=a.data("value"),f=e.val();d==="1"?(a.data("value","0"),e.val(0),b(this).css("color","#fff")):(a.data("value","1"),e.val(1),b(this).css("color","#000")),c.preventDefault()})})},b(".checkbox").checkbox()}(window.app.www,jQuery),function(a,b){"use strict",a.GeneralSetup=function(){var a=this,c=b(".body-content .body-text").html();this.init=function(){b(".product-container").readmore({speed:75,maxHeight:315,embedCSS:!0,moreLink:'<div class="expand-link"><a href="#" style="font-weight: normal">Load More</a></div>',lessLink:'<div class="expand-link"><a href="#" style="font-weight: normal">Load Less</a></div>',afterToggle:function(){b(".product-container").animate({scrollTop:b(this.element)},300)}}),b(".body-content .read-more").on("click",a.readMore)},this.readMore=function(){return b(".body-content .body-text").html(b(".body-content .hidden").html()),b(".body-content .show-less").on("click",a.showLess),!1},this.showLess=function(){return b(".body-content .body-text").html(c),b(".body-content .read-more").on("click",a.readMore),!1}},b(function(){var b=new a.GeneralSetup;b.init()})}(window.app.www,jQuery),function(a,b){"use strict";var c=function(){return Math.floor(Math.random()*10)<5?0:1};a.takeovers={rows:[{name:"SyncAd",value:"TK_ADV1"},{name:"SyncAd",value:"TK_ADV2"}],index:c()},a.takeoverTargeting=function(){var b;a.takeovers.rows.length>0?(a.takeovers.index+=1,a.takeovers.index>=a.takeovers.rows.length&&(a.takeovers.index=0),b=a.takeovers.rows[a.takeovers.index],a.target(b.name,b.value)):a.target("SyncAd","")},a.rotate=function(b){var c=null;a.closeExpandableAd(),a.closePushdownAd(),a.gptsections[b]&&(c=a.gptsections[b]()),a.takeoverTargeting(),a.pubads().refresh(c)},a.target=function(b,c){a.cmd.push(function(){a.pubads().setTargeting(b,c)})},a.debugData=function(){var b=a.debug_log.getAllEvents(),c=0,d="<ul>";for(c=0;c<b.length;c+=1)d+="<li>"+b[c].Ea+"</li>\n";return d+="</ul>",d+='<a href="#" onClick="googletag.showDebug(); return false;">Refresh</a>',d},a.showDebug=function(){window.jQuery("#dynamicSidebarLeft").html(a.debugData())},a.closeExpandableAd=function(){clearTimeout(a.expandAdTimeout),b("#expandable-slot").slideUp({duration:300,easing:"easeOutCubic",complete:function(){b("#expandable-slot").html("")}})},a.expandableAd=function(c){c.hasOwnProperty("content")&&c.content!==""?(b("#expandable-slot").hide().html(c.content),a.expandAdTimeout=0,b("#expandable-slot").slideDown({duration:300,easing:"easeOutCubic"}),b("#expandable-slot .close-button").on("click",a.closeExpandableAd)):b.ajax({type:"GET",url:"/ads/expandable/index.php",data:c,success:function(a){b("#expandable-slot").hide().html(a)}})},a.closePushdownAd=function(){b("#pushdown-slot").slideUp({duration:300,easing:"easeOutCubic",complete:function(){b("#pushdown-slot").html("")}})},a.pushdownAd=function(c){c.hasOwnProperty("content")&&c.content!==""?(b("#pushdown-slot").hide().html(c.content),b("#pushdown-slot").slideDown({duration:300,easing:"easeOutCubic"}),b(".close-button").on("click",a.closePushdownAd)):b.ajax({type:"GET",url:"/ads/expandable/index.php",data:c,success:function(a){b("#pushdown-slot").hide().html(a)}})},a.modalAd=function(a){var c,d,e,f;if(a.hasOwnProperty("content")&&a.content!==""){b("#ad-modal-container").length===0&&b("body").append('<div id="ad-modal-container"></div>'),b("#ad-modal-container").html('<div id="ad-modal" class="modal hide fade"><button class="close-button" data-dismiss="modal"><span>x</span></button>'+a.content+"</div>");if(a.scripts&&a.scripts.length>0)for(e=0;e<a.scripts.length;e++)f=document.createElement("script"),f.type="text/javascript",a.scripts[e].src?f.src=a.scripts[e].src:f.innerHTML=a.scripts[e].content,document.getElementById("ad-modal").appendChild(f);c=-Math.round(a.width/2),d=-Math.round(a.height/2),b("#ad-modal-container .modal").css({width:a.width,height:a.height,marginLeft:c,marginTop:d}),b(".modal").on("hidden",function(){b("#ad-modal-container").html("")}),b("#ad-modal").modal("show")}},a.welcomeAd=function(a){var c,d;b("#ad-modal-container").length===0&&b("body").append('<div id="ad-modal-container"></div>'),a.target=a.target||"_blank",a.width!==undefined&&a.width!==0?(b("#ad-modal-container").html('<div id="ad-modal" class="modal hide fade"><button class="close" data-dismiss="modal"><span>x</span></button><div class="modal-inner"><a href="'+a.url+'" target="'+a.target+'">'+'<img src="'+a.image+'" width="'+a.width+'" height="'+a.height+'" /></a></div>'+"</div>"),a.width+=20,a.height+=20,c=-Math.round(a.width/2),d=-Math.round(a.height/2),b("#ad-modal-container .modal").css({width:a.width,height:a.height,marginLeft:c,marginTop:d})):b("#ad-modal-container").html('<div id="ad-modal" class="modal hide fade"><button class="close" data-dismiss="modal"><span>x</span></button><div class="modal-inner"><a href="'+a.url+'" target="'+a.target+'">'+'<img src="'+a.image+'" /></a></div>'+"</div>"),b("#ad-modal").modal("show")},a.takeoverTargeting()}(googletag,jQuery),function(a,b){"use strict",a.Shop=function(){var a=this;return this.init=function(){var a;b("body").on("click",'.shop-btn[href="#"]',function(){return b(this).find(".products-toggle").toggleClass("plus-rotate"),a=b(this).closest(".slide").length>0?b(this).closest(".slide"):b(this).closest("#photo-overlay"),a.find(".products-wrapper").slideToggle("slow","easeInOutQuad"),!1})},a},b(function(){var c;b(".slide-products").length>0&&(c=new a.Shop,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.AasForm=function(a){var c=this,d=a.attr("action");return a.submit(function(){return b.ajax({type:"POST",data:a.serialize(),dataType:"json",url:d,success:function(a){c.parseResult(a)},error:function(a){c.ajaxError(a)}}),!1}),this.parseResult=function(a){a.status==="OK"?c.success(a.data):a.status==="ERROR"&&c.validationError(a)},this.success=function(){b("#aas-response").css("display","block"),b("#aas-form .close-btn").on("click",function(){b(this).parent().css("display","none")}),a.find(".error").remove(),a[0].reset()},this.validationError=function(a){var c,d,e,f;b(".error").remove();for(c in a.data)a.data.hasOwnProperty(c)&&(f=b("#"+c),f.attr("id")===c&&(e=b("#"+c+"-element").find('label[for="'+c+'"]'),e.length<=0?(d="<label for='"+c+"' class='error'>"+a.data[c]+"</label>",f.after(d)):e.text(a.data[c])))},this.ajaxError=function(c){var d="<div id ='"+a.attr("id")+"-submitMsg' class='error'> Could not submit the form at this time. Please try again later.</div>";a.find(".error").remove(),a.children(":first").before(d),b("#"+a.attr("id")+"-submitMsg").stop(!0,!0).fadeOut(1e4)},c},b(function(){var c;b("#aas_question").length!==0&&(c=new a.AasForm(b("#aas_question")))})}(window.app.www,jQuery),function(a,b){"use strict",a.GalleryForm=function(){var c=this;return this.init=function(){c.textInit(),c.selectInit(),c.populateForm(),b(".gallery-search").submit(function(a){var c,d="recent";b(this).find(".gallery-sort").hasClass("popular")&&(d="popular"),c=b("<input>").prop("type","hidden").prop("name","sort").val(d),b(this).append(c)}),b(".search-btn").click(function(a){a.preventDefault(),b(this).closest("form").submit()})},this.populateForm=function(){var a=window.location.search.substring(1),c="",d=window.location.pathname.split("/");d.length>2&&(c=d[2]),a.indexOf("recent")!==-1?b(".gallery-sort").addClass("recent"):b(".gallery-sort").addClass("popular"),c!==""&&b(".gallery-text").val(b("#gallery").find("h2:first").data("tag"))},this.textInit=function(){b(".gallery-text").on("input focus",function(c){var d=b(c.currentTarget).closest("form"),e=d.find(".gallery-text").val();a.AjaxHandler("/gallery-auto-complete",function(a){var b,c="",e=a.length;for(b=0;b<10&&b<e;b++)c+="<li>"+a[b]+"</li>";d.find(".gallery-auto-complete").html(c),d.find(".gallery-auto-complete").css("display","block")},{data:{q:e}})}),b(".gallery-auto-complete").on("click","li",function(){b(".gallery-text").val(b(this).text())}),b(".gallery-text").blur(function(){b(".gallery-auto-complete").fadeOut("fast")})},this.selectInit=function(){b(".gallery-search").on("click","li",function(a){var c=b(this).closest("form"),d,e=b(this).parent();b(a.currentTarget).data("value")!==undefined?(d=b(this).data("value"),d==="popular"?(e.removeClass("recent"),e.addClass("popular")):(e.removeClass("popular"),e.addClass("recent"))):e.find("li").toggle(),c.find(".gallery-text").val()!==""&&c.submit()}),b(".select-lists").on("click",function(){b(this).find("li").toggle()}),b(".gallery-search ul").mouseleave(function(){b(this).find("li").fadeOut("fast")})},c},b(document).ready(function(){var c;b(".gallery-search").length!==0&&(c=new a.GalleryForm,c.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Gallery=function(){var a=this,c,d,e,f,g;return this.init=function(){b("#gallery").find(".photo").off("click").on("click",a.slideClick),b(window).resize(a.resizeHandler)},this.resizeHandler=function(){d!==undefined&&d.length>0&&d.css({width:b(window).width()+"px",height:b(window).height()+"px"})},this.touchstartHandler=function(a){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];e=(new Date).getTime(),f=b.pageX,g=b.pageY},this.touchmoveHandler=function(a){var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],c=b.pageX,d=b.pageY;console.log("x = "+c,"y = "+d)},this.slideOut=function(){d.fadeOut(300,function(){d.remove()}),c.on("click",a.slideClick),b("body").removeClass("stop-scrolling"),b(document).off("touchmove"),b("body").off("touchstart"),b("body").off("touchmove"),d.off("touchstart"),d.off("touchmove")},this.slideClick=function(e){var f=b(this).find(".img-small"),g=f.attr("src"),h=g.replace(".320x0.",".640x0."),i=b("<img>").addClass("img-large").attr("src",h).attr("alt",f.attr("alt"));if(!b(e.target).is(".img-small"))return!1;e.preventDefault(),c=b(this),c.off("click",a.slideClick),b("body").addClass("stop-scrolling"),b(document).on("touchmove",function(a){a.preventDefault()}),b("body").on("touchstart",".scrollable",function(a){a.currentTarget.scrollTop===0?a.currentTarget.scrollTop=1:a.currentTarget.scrollHeight===a.currentTarget.scrollTop+a.currentTarget.offsetHeight&&(a.currentTarget.scrollTop-=1)}),b("body").on("touchmove",".scrollable",function(a){a.stopPropagation()}),d!==undefined&&d.length>0&&d.remove(),d=c.clone(!0),d=b("<div>"+d.html()+"</div>"),d.find(".close-btn").on("click",a.slideOut),d.attr("id","photo-overlay"),d.addClass("photo"),d.addClass("scrollable"),a.resizeHandler(),b("#gallery").append(d),d.on("touchstart",a.touchstartHandler),d.find(".img-small").before(i),d.stop(!0,!0).fadeIn(300),d.find(".slide-hide").stop(!0,!0).delay(300).slideDown(300),d.find(".close-btn").stop(!0,!0).delay(300).fadeIn(300)},a},b(function(){b("#gallery").length>0&&(a.gallery=new a.Gallery,a.gallery.init())})}(window.app.www,jQuery),function(a,b){"use strict",a.Welcome=function(){var a=this,c;return this.init=function(){var d=b(".gallery-search:first").offset().top-66,e='<div class="close-btn" style="display: block;">X</div><h2 style="margin-top:'+d+'px">Welcome<span class="www-italic">to our photo gallery</span></h2>'+'<h3><span class="welcome-hint-arrow"></span>Search for your favorite trends,<br>celebrities, items or whatever you want.</h3>';b.cookie("gallery-welcome")||(c=b("<div>"+e+"</div>"),c.find(".close-btn").on("click",a.slideOut),c.on("click",a.slideOut),c.attr("id","gallery-welcome"),c.addClass("overlay"),c.on("touchstart",a.slideOut),c.on("touchmove",a.slideOut),c.stop(!0,!0).fadeIn(300),b("#gallery-landing").append(c))},this.slideOut=function(a){a.preventDefault(),c.fadeOut(300,function(){c.remove()}),b.cookie("gallery-welcome",!1,{expires:30,path:"/"})},a},b(function(){b("#gallery-landing").length>0&&(a.welcome=new a.Welcome,a.welcome.init())})}(window.app.www,jQuery),function(a,b){function f(a,e){this.element=a,this.options=b.extend(!0,{},d,e),this.options.share=e.share,this.myDefaults=d,this.myName=c,this.init()}"use strict";var c="social",d={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1,heartThreshold:100},shareTotal:0,title:"",url:document.location.href,text:document.title,urlCurl:"/sharrre/sharrre",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},e={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"};f.prototype.init=function(){var a=this,c,d,f=b(".native-social .social-comments"),g=100;a.options.total=0,this.options.urlCurl!==""&&(e.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",e.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon"),b(this.element).addClass(this.options.className),typeof b(this.element).data("title")!="undefined"&&(this.options.title=b(this.element).attr("data-title")),typeof b(this.element).data("url")!="undefined"&&(this.options.url=b(this.element).data("url"),this.options.url.substring(0,12)==="http://local"&&(this.options.url="http://www"+this.options.url.substring(12,this.options.url.length))),typeof b(this.element).data("text")!="undefined"&&(this.options.text=b(this.element).data("text")),b.each(this.options.share,function(b,c){c===!0&&(a.options.shareTotal+=1)}),a.options.enableCounter===!0&&b.each(this.options.share,function(b,c){if(c===!0)try{a.getSocialJson(b)}catch(d){}}),f.length>0&&(c=f.first().attr("data-href"),b.getJSON("https://graph.facebook.com/fql?q=SELECT%20commentsbox_count%20FROM%20link_stat%20WHERE%20url=%27"+c+"%27",function(a){var b=a.data[0].commentsbox_count;b>0&&(b=b!==1?b+" comments":b+" comment",f.find(".comment-label").text(b))}),f.find(".comment-label").click(function(){return b("html, body").animate({scrollTop:b(".comments-cta").offset().top-g},500),!1}))},f.prototype.getSocialJson=function(a){var c=this,d=0,f=e[a].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[a].urlCount===!0&&this.options.buttons[a].url!==""&&(f=e[a].replace("{url}",this.options.buttons[a].url)),f!==""&&c.options.urlCurl!==""?b.getJSON(f,function(b){var e;typeof b.count!="undefined"?(e=b.count+"",e=e.replace("Â ",""),d+=parseInt(e,10)):b.data&&b.data.length>0&&typeof b.data[0].total_count!="undefined"?(d+=parseInt(b.data[0].total_count,10),typeof b.data[0].commentsbox_count!="undefined"&&(d+=parseInt(b.data[0].commentsbox_count,10))):typeof b.shares!="undefined"?d+=parseInt(b.shares,10):typeof b[0]!="undefined"&&(d+=parseInt(b[0].total_posts,10)),c.options.count[a]=d,d>0&&(c.options.total+=d),c.renderer()}).error(function(){c.options.count[a]=0}):c.renderer()},f.prototype.renderer=function(){var a=parseInt(this.options.total,10),c;this.options.shorterTotal===!0&&(a=this.shorterTotal(a)),c="<span><span class='icon-heart'></span>"+a+"</span>",b(this.element).addClass("social-rendered").find(".total").html(c),a<this.options.share.heartThreshold?b(this.element).addClass("social-rendered").find(".total").addClass("hidden"):b(this.element).addClass("social-rendered").find(".total").removeClass("hidden")},f.prototype.shorterTotal=function(a){return a>=1e6?a=(a/1e6).toFixed(2)+"M":a>=1e3&&(a=(a/1e3).toFixed(1)+"k"),a},b.fn[c]=function(a){var d=arguments;if(a===undefined||typeof a=="object")return this.each(function(){b.data(this,"plugin_"+c)||b.data(this,"plugin_"+c,new f(this,a))});if(typeof a=="string"&&a[0]!=="_"&&a!=="init")return this.each(function(){var e=b.data(this,"plugin_"+c);e instanceof f&&typeof e[a]=="function"&&e[a].apply(e,Array.prototype.slice.call(d,1))})},a.Social=function(){var a=this,c=!1,d=b(".social-fixed"),e,f,g=0;return a.init=function(c){var e={share:{facebook:!0,twitter:!0,pinterest:!0,heartThreshold:100}};d.length>0&&(b(window).on("scroll",a.scrollHandler),b(window).on("resize",a.resizeHandler),a.resizeHandler()),b("#salvattore").length>0&&(e.share.heartThreshold=5),b("#home-carousel").length>0&&(e.share.heartThreshold=20),arguments.length>0?c.find(".social-count").each(function(){b(this).hasClass("social-rendered")||b(this).social(e)}):b(".social-count").each(function(){b(this).hasClass("social-rendered")||b(this).social(e)})},this.resizeHandler=function(){var a=Math.round((b(window).height()-d.height())/2);d.css("top",a)},this.toggleFixedSocialIcons=function(){b(".social-fixed").is(":animated")||(b(".content-social").length>0?g=Math.round(b(".content-social").offset().top):b("#more-btn").length>0?g=Math.round(b("#more-btn").offset().top):g=Math.round(b("#footer").offset().top),b(window).scrollTop()<100||b(window).scrollTop()>=g?b(".social-fixed").stop(!0,!0).fadeOut("fast"):b(".social-fixed").stop(!0,!0).fadeIn("slow"))},this.scrollHandler=function(){c||(c=!0,e=setInterval(function(){a.toggleFixedSocialIcons()},100)),clearTimeout(f),f=setTimeout(function(){c=!1,clearInterval(e)},100)},a},b(".social-count").length>0&&(a.social=new a.Social,a.social.init())}(window.app.www,jQuery),function(a,b){"use strict",a.Search=function(){var a=this,c=18,d=0,e=0,f=1,g=!0,h="stories",i=window.History,j=!0,k,l=!1,m,n,o,p=b("#search-filter").is(":visible"),q=!1,r=!1;return a.init=function(){var c=!1,o;k=a.getQuery(),b("#search-form").submit(function(){var d=b.trim(b("#search-term-input").val());return d&&(f=1,r=!1,q=!1,h="stories",a.resetView(),a.writeHistory(h),a.search(d),c=!0),!1}),c===!1&&b("#search-term-input").val().length&&(o=b.trim(b("#search-term-input").val()),"page"in k&&(f=k.page),"filter"in k&&(h=k.filter),a.writeHistory(h),a.search(o)),b(".filter-nav-links").on("click",function(){var c=b(this).attr("id"),d=c.split("-"),e=b.trim(b("#search-term-input").val());return h=d[1],f=1,a.resetView(),a.writeHistory(h),a.search(e),!1}),i.enabled&&i.Adapter.bind(window,"statechange",function(){var c=i.getState(),d=a.parseQuery(c.hash);j&&("page"in d&&(f=d.page),b(".filter-nav-links").removeClass("active"),"filter"in d&&(h=d.filter,b("#filter-"+h).addClass("active")),"q"in d&&(a.resetView(),a.search(d.q))),j=!0}),b(window).resize(function(){a.resizePhotos()}),b(window).scroll(function(){var c;l||(l=!0,m=setInterval(function(){b(window).scrollTop()>=b("#search-results")[0].scrollHeight-800&&g&&e>d&&(c=b.trim(b("#search-term-input").val()),f++,a.writeHistory(h),a.search(c))},100)),clearTimeout(n),n=setTimeout(function(){l=!1,clearInterval(m)},100)})},a.writeHistory=function(a){var c=window.location.href,d=Object.keys(k),e=b.trim(b("#search-term-input").val()),g,h;k.q=e,k.filter=a,c=c+"&filter="+k.filter;if("page"in k){k.page=f,c=window.location.origin+window.location.pathname+"?";for(g=0;g<d.length;g++)h=d[g],c=c+h+"="+k[h],g<d.length-1&&(c=c+"&")}else k.page=f,c+="&page="+k.page;b(".filter-nav-links").removeClass("active"),b("#filter-"+k.filter).addClass("active"),j=!1,i.enabled&&i.pushState(null,null,c)},a.getQuery=function(){var b=location.href,c=a.parseQuery(b);return c},a.parseQuery=function(a){var b=a.substring(a.indexOf("?")+1).split("&"),c,d;for(c=0,d={};c<b.length;c++)b[c]=b[c].split("="),d[b[c][0]]=decodeURIComponent(b[c][1]);return d},a.createGalleryPreview=function(a){b("#gallery-preview").html(a.html).show()},a.search=function(d){var e=f>1?f*c-c:0;b(".search-loader").css("display","block"),!r&&p?b.when(a.getHeaderRelatedGalleries(d)).then(function(b){r=!0,window.scrollTo(0,0),a.ajaxSearch(d,e,k.filter)}):a.ajaxSearch(d,e,k.filter)},a.getHeaderRelatedGalleries=function(c){var d=new Date,e=d.getMonth()+1+"-"+d.getDate()+"-"+d.getFullYear()+":"+d.getHours();return b.ajax({dataType:"json",type:"GET",url:"/galleries-ajax",data:{ts:e,q:c},cache:!0,success:function(d){d?(o=d.slug,d.term=c,a.createGalleryPreview(d)):b("#gallery-preview").hide()}})},a.ajaxSearch=function(f,h,i){var j=new Date,l=j.getMonth()+1+"-"+j.getDate()+"-"+j.getFullYear()+":"+j.getHours(),m="/search-ajax",n;i==="photos"&&(m="/photo-galleries/"+f),b.ajax({dataType:"json",type:"GET",url:m,data:{q:f,start:h,limit:c,ts:l,mode:"json"},cache:!0,beforeSend:function(){g=!1},success:function(g){var j,m;g.error?i==="stories"&&!q&&p?(q=!0,b("#filter-photos").trigger("click")):a.noResults(g.error):(j=g.results.length!==undefined?g.results.length:0,m=k.page*c,i==="stories"&&j<=6&&!q&&p?(n=g,q=!0,a.checkPhotoResults(f,h,l).done(function(c){c.error||c.totalResults<j?a.completedSearch(n.results,i,f):(b(".filter-nav-links").removeClass("active"),b("#filter-photos").addClass("active"),a.completedSearch(c.results,i,f))})):(e=g.totalResults,d+=j,m>e&&(d=e),a.completedSearch(g.results,i,f)))},complete:function(){g=!0}})},a.checkPhotoResults=function(a,d,e){return b.ajax({dataType:"json",type:"GET",url:"/photo-galleries/"+a,data:{q:a,start:d,limit:c,ts:e,mode:"json"},cache:!0})},a.noResults=function(a){b(".search-loader").css("display","none"),b("#no-results").css("display","block").html(a)},a.completedSearch=function(a,c,d){var e="",f,g,h="",i;b(".search-loader").css("display","none"),b("#no-results").css("display","none");if(a===null||a.length===0)return;for(i=0;i<a.length;i++)f=a[i],f.image&&(f.image.indexOf("original.jpg")!==-1?g=f.image.replace("original.jpg","original.300x300uc.jpg"):g=f.image,h="<img src='"+g+"'>"),c==="photos"?(f.title=f.subtitle?f.subtitle:f.title,o?f.url=f.url+"?gallery="+o+"&search="+d:f.url=f.url+"?search="+d):f.url=f.url+"?search="+d,e+="<li><div class='img-contain'><a href='"+f.url+"'>"+h+"</a></div>"+"<div class='date-contain'>"+f.pubdate+"</div>"+"<div class='title-contain'><a href='"+f.url+"'>"+f.title+"</a></div></li>";b("#"+c+"-container").css("display","inline-block"),b("#"+c+"-results ul").append(e)},a.resizePhotos=function(){b(".img-contain").height(b(".img-contain").width())},a.resetView=function(){c=18,d=0,e=0,b("#stories-results").html("<ul></ul>"),b("#stories-container").css("display","none"),b("#photos-results").html("<ul></ul>"),b("#photos-container").css("display","none")},a},b(function(){b("#search-form").length>0&&(a.search=new a.Search,a.search.init())})}(window.app.www,jQuery)